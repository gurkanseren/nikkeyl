@use "sass:math" as *;
@use "@scss/abstracts" as *;

.popup {
	position: fixed;
	inset: 0;
	padding: rem(30) rem(div($container-padding, 2));
	visibility: hidden;
	transition: visibility 0.8s;
	pointer-events: none;

	&__wrapper {
		display: flex;
		flex: 1 1 auto;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		width: 100%;
		min-height: 100%;
	}

	&__content {
		position: relative;
		border-radius: rem(10);
		width: 100%;
		max-width: rem(400);
		padding: rem(50) rem(20);
		background-color: var(--magnolia, #f8f4ff);
		visibility: hidden;
		scale: 0;
		transition:
			visibility 0.3s,
			scale 0.3s;

		.lock & {
			visibility: visible;
		}
	}

	&__body {
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	&__icon {
		animation: drag 1s infinite;

		svg {
			border-radius: 50%;
			height: rem(150);
			width: rem(150);
			box-shadow: 0 rem(8) rem(15) rgb(var(--accent-rgb, 4 219 137) / 0.25);
			fill: none;
			stroke: var(--accent, #0d8);
		}

		&:not(:last-child) {
			margin-bottom: rem(25);
		}

		@keyframes drag {
			0% {
				rotate: 3deg;
			}

			50% {
				rotate: -3deg;
			}

			100% {
				rotate: 3deg;
			}
		}
	}

	&__text {
		$font-size: 18;

		max-width: rem(210);
		font-size: rem($font-size);
		line-height: div(25, $font-size);
		text-align: center;

		span {
			color: var(--accent, #0d8);
		}
	}

	&__close {
		position: absolute;
		top: rem(20);
		right: rem(15);
		z-index: 5;
		display: block;
		height: rem(18);
		width: rem(30);
		cursor: pointer;

		&::before,
		&::after {
			@include pseudo;

			right: 0;
			border-radius: rem(2);
			height: rem(2);
			width: 100%;
			background-color: var(--secondary, #222);
		}

		&::before {
			top: calc(50% - rem(1));
			rotate: -45deg;
		}

		&::after {
			bottom: calc(50% - rem(1));
			rotate: 45deg;
		}
	}

	&--show {
		z-index: 150;
		overflow: auto;
		visibility: visible;
		pointer-events: auto;

		.popup__content {
			visibility: visible;
			scale: 1;
		}
	}
}
