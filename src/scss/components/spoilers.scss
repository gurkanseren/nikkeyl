@use "@scss/abstracts" as *;

.spoiler {
	align-self: flex-start;
	overflow: hidden;
	background-color: var(--color-pale, #f8f4ff);

	&__trigger {
		position: relative;
		padding: to-rem(10);
		font-family: var(--font-family-open-sans), sans-serif;
		text-align: start;
		line-height: div-rounding(20, 16);
		cursor: pointer;

		strong {
			flex: 1;
		}

		.halloween & {
			font-family: var(--font-family-creepster, var(--font-system-ui, sans-serif));
		}

		.spoiler-init & {
			span {
				display: block;
				flex-grow: 0;
				flex-shrink: 0;
				flex-basis: to-rem(30);
				block-size: to-rem(30);

				&::before,
				&::after {
					@include pseudo;

					inset-block-start: 50%;
					inset-inline-end: to-rem(15);
					border-radius: to-rem(2);
					block-size: to-rem(2);
					inline-size: to-rem(20);
					background-color: var(--color-secondary, #222);
					transition: rotate 0.3s;

					.halloween & {
						display: none;
					}
				}

				&::before {
					rotate: 90deg;
				}

				.halloween & {
					background-image: url("@img/svg/halloween/bones.svg");
					background-position: center;
					background-size: cover;
					background-repeat: no-repeat;
					rotate: 45deg;
					transition: rotate 0.3s;
				}
			}

			&.spoiler-active {
				span {
					&::before {
						rotate: 45deg;
					}

					&::after {
						rotate: -45deg;
					}
				}

				.halloween & {
					span {
						rotate: 0deg;
					}
				}
			}
		}
	}

	&__info {
		gap: to-rem(10);
		justify-content: center;
		margin-inline: auto;
		inline-size: fit-content;

		svg {
			block-size: to-rem(20);
			inline-size: to-rem(20);
			fill: none;
			stroke: #fff;
		}

		.halloween & {
			padding-inline-end: to-rem(30);
			background-image: url("@img/svg/halloween/hat.svg");
			background-position: right;
			background-size: to-rem(20);
			background-repeat: no-repeat;

			svg {
				display: none;
			}
		}
	}

	&__socials {
		justify-content: center;

		svg {
			fill: var(--color-primary, #fff);

			.dark & {
				fill: var(--color-secondary, #fff);
			}
		}
	}

	&__content {
		padding: to-rem(15);
		color: var(--color-primary, #fff);
		background-color: var(--color-accent, #0d8);

		.dark & {
			color: var(--color-secondary, #fff);
		}
	}

	&__call-me {
		&:not(:last-child) {
			margin-block-end: to-rem(20);
		}
	}
}
